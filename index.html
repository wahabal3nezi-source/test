<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-5MD6TCHCCB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-5MD6TCHCCB');
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
  <title>Lovingly.framed</title>

  <style>
    :root{
      --primary:#1a1a1a;
      --secondary:#d4af37;
      --bg-dots: #fdfbf7;
      --dark-bg: #111111;
      --radius: 12px;
      --shadow: 0 10px 30px rgba(0,0,0,0.1);
    }

    *{box-sizing:border-box; margin:0; padding:0;}
    body{
      font-family:'Segoe UI', system-ui, -apple-system, sans-serif;
      background-color: var(--bg-dots);
      background-image: radial-gradient(#d4af37 0.5px, transparent 0.5px), radial-gradient(#d4af37 0.5px, var(--bg-dots) 0.5px);
      background-size: 20px 20px;
      background-position: 0 0, 10px 10px;
      color:var(--primary); line-height:1.6;
    }

    /* Header */
    .header{
      background:rgba(255, 255, 255, 0.98);
      border-bottom: 1px solid #eee;
      position:fixed; top:0; left:0; right:0; z-index:1000;
      padding:15px 0; text-align:center;
    }
    .logo{
      font-size:24px; font-weight:800; color:var(--primary);
      text-decoration:none; display:inline-block;
    }
    .logo span{ color:var(--secondary); }
    
    .nav{ display:flex; gap:15px; justify-content:center; margin-top: 8px; }
    .nav-link{
      color:var(--primary); text-decoration:none; font-weight:600;
      font-size:13px; padding: 2px 5px; transition: 0.3s;
    }
    .nav-link.active { border-bottom: 2px solid var(--secondary); color: var(--secondary); }

    /* Back Button - Updated Style & Position */
    .back-btn-nav {
      position: absolute; 
      right: 15px; 
      top: 50%; 
      transform: translateY(-50%);
      background: var(--secondary); 
      color: #fff;
      font-weight: 700; 
      cursor: pointer;
      font-size: 12px; 
      text-transform: uppercase; 
      display: none;
      text-decoration: none; 
      padding: 6px 12px; 
      border-radius: 50px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      z-index: 1100;
    }

    /* Hero Section */
    .hero{ margin-top: 130px; padding:60px 20px; text-align:center; }
    .hero-box {
      background: rgba(255, 255, 255, 0.95);
      display: inline-block; padding: 40px 25px; border-radius: var(--radius);
      box-shadow: var(--shadow); max-width: 550px;
    }
    .hero-box h2 { color: var(--secondary); font-size: 28px; margin-bottom: 10px; }
    .hero-box p { font-size: 17px; color: #444; font-weight: 500; }

    /* Grid */
    .container{ max-width:1100px; margin:0 auto; padding:40px 20px; }
    .grid { display:grid; gap:25px; grid-template-columns:repeat(auto-fill, minmax(240px, 1fr)); }

    /* Category Card */
    .category-card { cursor:pointer; transition: 0.4s; text-align:center; }
    .category-card:hover { transform: scale(1.02); }
    .img-square-frame {
      width: 100%; aspect-ratio: 1 / 1; border-radius: var(--radius); 
      overflow: hidden; margin-bottom: 10px; box-shadow: var(--shadow);
    }
    .img-square-frame img { width:100%; height:100%; object-fit:cover; }
    .cat-name { font-weight: 800; font-size: 15px; text-transform: uppercase; letter-spacing: 1px; }

    /* Catalog View */
    #catalog-view { background: var(--dark-bg); min-height: 100vh; width: 100%; padding-top: 100px; }
    #catalog-view .cat-title { color: white; text-align: center; margin-bottom: 30px; text-transform: uppercase; letter-spacing: 2px; }
    
    .product-card { border-radius:var(--radius); overflow:hidden; position: relative; }
    .img-portrait-frame {
      width: 100%; aspect-ratio: 9 / 16; background: #000;
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }
    .img-portrait-frame img { width:100%; height:100%; object-fit: contain; }

    .price-badge {
      position: absolute; top: 12px; right: 12px;
      background: var(--secondary); color: white;
      padding: 5px 12px; border-radius: 6px;
      font-weight: 800; font-size: 13px; z-index: 10;
    }

    /* Contact */
    .contact{ padding:60px 20px; text-align:center; background:#fff; border-top: 1px solid #eee; }
    .social-btn {
      display:inline-flex; align-items:center; gap:8px; margin: 10px;
      padding:12px 25px; border-radius:30px; text-decoration:none; font-weight:700; transition: 0.3s;
    }
    .whatsapp-btn{ background:#25D366; color:#fff; }
    .insta-btn { background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); color: white; }
    .social-btn:hover { transform: translateY(-3px); }

    .hidden { display: none; }
    @media (max-width: 480px) {
      .logo { font-size: 20px; }
      .back-btn-nav { right: 10px; padding: 4px 10px; font-size: 11px; }
    }
  </style>
</head>

<body>
  <header class="header">
    <div id="btn-back" class="back-btn-nav" onclick="showCategories(event)">Back</div>
    
    <a href="https://www.instagram.com/lovingly.framed/" target="_blank" class="logo">Lovingly<span>.framed</span></a>
    
    <nav class="nav" id="main-nav">
      <a href="#home" id="nav-home" class="nav-link active" onclick="showHome(event)">الرئيسية</a>
      <a href="#categories" id="nav-cats" class="nav-link" onclick="showCategories(event)">الأقسام</a>
      <a href="#contact" class="nav-link">تواصل معنا</a>
    </nav>
  </header>

  <div id="main-view">
    <section class="hero" id="home">
      <div class="hero-box">
        <h2>صُنع بحب</h2>
        <p>نحول أجمل لحظاتكم إلى ذكريات ملموسة بإطارات استثنائية</p>
      </div>
    </section>

    <section class="container" id="categories">
      <div class="grid">
        <div class="category-card" onclick="openCatalog('bridal')">
          <div class="img-square-frame"><img src="images/bridal/1.jpg"></div>
          <div class="cat-name">Bridal</div>
        </div>
        <div class="category-card" onclick="openCatalog('newborn')">
          <div class="img-square-frame"><img src="images/newborn/1.jpg"></div>
          <div class="cat-name">Newborn</div>
        </div>
        <div class="category-card" onclick="openCatalog('balloons')">
          <div class="img-square-frame"><img src="images/balloons/1.jpg"></div>
          <div class="cat-name">Balloons</div>
        </div>
        <div class="category-card" onclick="openCatalog('graduation')">
          <div class="img-square-frame"><img src="images/grad/1.jpg"></div>
          <div class="cat-name">Graduation</div>
        </div>
      </div>
    </section>
  </div>

  <div id="catalog-view" class="hidden">
    <div class="container">
      <h2 id="cat-title" class="cat-title"></h2>
      <div class="grid" id="product-grid"></div>
    </div>
  </div>

  <section class="contact" id="contact">
    <h2>تواصل معنا</h2>
    <p>للحجز أو الاستفسار عن التصاميم الخاصة</p>
    <a href="https://wa.me/96565022191" class="social-btn whatsapp-btn" target="_blank">واتساب مباشر</a>
    <a href="https://www.instagram.com/lovingly.framed/" class="social-btn insta-btn" target="_blank">Instagram</a>
  </section>

  <script>
    const START_INDEX = 2;
    const LIMITS = { bridal: 13, newborn: 44, balloons: 7, graduation: 6 }; // Updated Key
    
    const PRICES = {
      bridal:   [11,11,12,12,12,12,12,12,12,12,12,12],
      newborn:  [11,11,12,11,11,12.5,11,11,11,11,12,12.5,11,11,11,11,11,12,12,12,12,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12],
      balloons: [10,10,10,10,10,10],
      graduation: [8,8,10,10,10] // Updated Key
    };

    function openCatalog(cat) {
      document.getElementById('main-view').classList.add('hidden');
      document.getElementById('catalog-view').classList.remove('hidden');
      document.getElementById('main-nav').classList.add('hidden');
      document.getElementById('btn-back').style.display = 'block';
      
      document.getElementById('cat-title').textContent = cat;
      const grid = document.getElementById('product-grid');
      grid.innerHTML = '';
      
      const limit = LIMITS[cat];
      const folderName = (cat === 'graduation') ? 'grad' : cat; // Path mapping

      for(let i = limit; i >= START_INDEX; i--) {
        const priceIndex = i - START_INDEX;
        const price = PRICES[cat][priceIndex];
        const imgPath = `images/${folderName}/${i}.jpg`;
        
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
          ${price ? `<div class="price-badge">${price} KD</div>` : ''}
          <div class="img-portrait-frame">
            <img src="${imgPath}" loading="lazy">
          </div>
        `;
        grid.appendChild(card);
      }
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showCategories(e) {
      if(e) e.preventDefault();
      document.getElementById('main-view').classList.remove('hidden');
      document.getElementById('catalog-view').classList.add('hidden');
      document.getElementById('main-nav').classList.remove('hidden');
      document.getElementById('btn-back').style.display = 'none';
      const catSection = document.getElementById('categories');
      window.scrollTo({ top: catSection.offsetTop - 120, behavior: 'smooth' });
    }

    function showHome(e) {
      if(e) e.preventDefault();
      document.getElementById('main-view').classList.remove('hidden');
      document.getElementById('catalog-view').classList.add('hidden');
      document.getElementById('main-nav').classList.remove('hidden');
      document.getElementById('btn-back').style.display = 'none';
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    window.addEventListener('scroll', () => {
      const catSection = document.getElementById('categories');
      const navHome = document.getElementById('nav-home');
      const navCats = document.getElementById('nav-cats');
      if (catSection && navHome && navCats) {
          const scrollPos = window.scrollY + 150;
          if (scrollPos >= catSection.offsetTop) {
            navHome.classList.remove('active');
            navCats.classList.add('active');
          } else {
            navCats.classList.remove('active');
            navHome.classList.add('active');
          }
      }
    });
  </script>
</body>
</html>
